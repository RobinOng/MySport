<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MatchSeason LiveScore</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- Google icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body{
            background-image: url("courtS.png");
            background-size: 100%;
        }

        #testing{
            background-image: url("court1.png");
            background-size: 100%;
        }
        nav{
            box-shadow: 3px 3px 20px #888888;
        }

        div{
            margin-top: 1%;
            margin-bottom: 1%;
        }

        .navbar-header{
            margin:0;
            float:none;
            text-align: center;
        }

        .modal-content{
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
        }

        #tournamentNameDisplay{
            background-color: white;
            border: 1px solid grey;
            border-radius: 10px;
            color: grey;
            font-size: 300%;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
            font-weight: bold;
            text-shadow: 1px 1px 5px grey;
            text-align: center;
            overflow:hidden;
            text-overflow:ellipsis;
            box-shadow: 1px 1px 5px #888888;
        }

        #team1Display, #team2Display{
            border-radius: 10px;
            color: white;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
            text-shadow: 1px 1px 5px black;
            text-align: center;
            overflow:hidden;
            text-overflow:ellipsis;
        }

        #player1NameDisplay, #player2NameDisplay, #player3NameDisplay, #player4NameDisplay {
            font-weight: bold;
            font-size: 200%;
        }

        #team1NameDisplay, #team2NameDisplay{
            font-size: 150%;
        }

        #currentGameScoreDisplay{
            border-radius: 10px;
            color: white;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
            text-align: center;
            overflow:hidden;
            text-overflow:ellipsis;
        }

        #team1ScoreDisplay, #team2ScoreDisplay{
            font-weight: bold;
            font-size: 500%;
            text-shadow: 1px 1px 5px black;
        }


        #currentGameNumberDisplay, #matchResultDisplay{
            background-color: white;
            border: 1px solid lightgrey;
            border-radius: 10px 10px 0px 0px;
            color: darkgrey;
            font-size: 110%;
            font-weight: bold;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
            text-align: center;
            overflow:hidden;
            text-overflow:ellipsis;
            padding: 10px;
            box-shadow: 1px 1px 5px #888888;
        }

        #currentGameTimerDisplay, #matchScoreDisplay{
            background-color: white;
            border-bottom: 1px solid lightgrey;
            border-left: 1px solid lightgrey;
            border-right: 1px solid lightgrey;
            border-radius: 0px 0px 10px 10px;
            color: lightgrey;
            font-size: 120%;
            font-weight: bold;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
            text-align: center;
            overflow:hidden;
            text-overflow:ellipsis;
            padding: 10px;
            box-shadow: 1px 1px 5px #888888;
        }

        #panelDisplay{
            text-align: center;
        }

        .btn-group{
            box-shadow: 1px 1px 5px #888888;
        }

        #team1AddScoreButton,#team2AddScoreButton,#buttonOne, #stopButton, #undoButton{
            padding: 15px;
            font-weight: bold;
            font-family: Montserrat,"Helvetica Neue",Helvetica,Arial,sans-serif;
        }
    </style>
</head>
<body>
    <div class="modal fade bs-example-modal-lg" id="popUpWindow">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
<!--                    <button type="button" class="close" data-dismiss="modal">&times;</button>-->
                    <h3 class="modal-title">Match Setup</h3>
                </div>

                <!-- body (form) -->
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <form role="form">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="tournamentNameInput" placeholder="Tournament Name" maxlength="35">
                                </div>

                        <!-- <div class="dropdown">
                             <a href="#" class="dropdown-toggle" data-toggle="dropdown">Events Type <span class="caret"></span></a>
                             <ul class="dropdown-menu" id="myid">
                                <!-- <li><a href="#" onclick="clickSingles()">Men's Singles</a></li>
                                 <li><a href="#" onclick="clickDoubles()">Men's Doubles</a></li>
                                 <li><a href="#" onclick="clickSingles()">Women's Singles</a></li>
                                 <li><a href="#" onclick="clickDoubles()">Women's Doubles</a></li>
                                 <li><a href="#" onclick="clickDoubles()">Mixed Doubles</a></li>
                                 <li><a href="#">Men's Singles</a></li>
                                 <li><a href="#">Men's Singles</a></li>
                             </ul>
                         </div>

                         <div class="dropdown">
                             <a href="#" class="dropdown-toggle" data-toggle="dropdown">Scoring System <span class="caret"></span></a>
                             <ul class="dropdown-menu">
                                 <li><a href="#">3 &times 21</a></li>
                                 <li><a href="#">3 &times 15</a></li>
                             </ul>
                         </div>-->
                        <div class="col-xs-12 col-md-12" id="testing">
                        <div class="col-xs-5 col-md-5">
                            <div class="form-group">
                                <input type="text" class="form-control" id="team1NameInput" placeholder="Team Name" maxlength="35">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="player1NameInput" placeholder="Player 1's Name" maxlength="25">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="player3NameInput" placeholder="Player 3's Name" maxlength="25">
                            </div>
                        </div>

                        <div class="col-xs-5 col-xs-offset-2 col-md-5 col-md-offset-2">
                        <div class="form-group">
                            <input type="text" class="form-control" id="team2NameInput" placeholder="Team Name" maxlength="35">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" id="player2NameInput" placeholder="Player 2's Name" maxlength="25">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" id="player4NameInput" placeholder="Player 4's Name" maxlength="25">
                        </div>
                            </div>
                            </div>
                    </form>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="modal-footer">
                    <button class="btn btn-primary btn-block" data-dismiss="modal" id="submitInputButton">Submit</button>
                </div>

            </div>
        </div>
    </div>
<!--
    <!-- Top Navigation Bar
    <nav class="navbar navbar-default">

        <!-- Logo
        <div class="navbar-header">
            <!--<a href="http://www.matchseason.com"><img src="logo.png" alt="MatchSeason" /></a>
            <a href="http://www.matchseason.com">MatchSeason</a>
        </div>
    </nav>
-->
    <!-- Page Content -->
    <div class="container" id="pageContentDisplay">
        <div class="row">

            <!-- Tournament -->
            <div class="col-xs-12 col-md-12" id="tournamentNameDisplay">Tournament Name</div>

            <!-- Team 1 -->
            <div class="col-xs-5 col-md-5" id="team1Display">

                <!-- Player 1 -->
                <div class="col-xs-12 col-md-12" id="player1Display">
                    <div class="col-xs-12 col-md-12"><img src="profilepicture.png" alt="profilepicture" class="img-circle" style="height: 150px;border: 5px solid white; box-shadow: 0px 0px 10px black""></div>
                    <div class="col-xs-12 col-md-12" id="player1NameDisplay">Player 1</div>
                </div>

                <!-- Team 1 Name -->
                <div class="col-xs-12 col-md-12" id="team1NameDisplay">Team 1</div>

                <!-- Player 3 -->
                <div class="col-xs-12 col-md-12" id="player3Display">
                    <div class="col-xs-12 col-md-12" id="player3NameDisplay">Player 3</div>
                    <div class="col-xs-12 col-md-12"><img src="profilepicture.png" alt="profilepicture" class="img-circle" style="height: 150px;border: 5px solid white; box-shadow: 0px 0px 10px black"></div>
                </div>
            </div>

            <!-- Team 2 -->
            <div class="col-xs-5 col-xs-offset-2 col-md-5 col-md-offset-2" id="team2Display">

                <!-- Player 2 -->
                <div class="col-xs-12 col-md-12" id="player2Display">
                    <div class="col-xs-12 col-md-12"><img src="profilepicture.png" alt="profilepicture" class="img-circle" style="height: 150px;border: 5px solid white; box-shadow: 0px 0px 10px black""></div>
                    <div class="col-xs-12 col-md-12" id="player2NameDisplay">Player 2</div>
                </div>

                <!-- Team 2 Name -->
                <div class="col-xs-12 col-md-12" id="team2NameDisplay">Team 2</div>

                <!-- Player 4 -->
                <div class="col-xs-12 col-md-12" id="player4Display">
                    <div class="col-xs-12 col-md-12" id="player4NameDisplay">Player 4</div>
                    <div class="col-xs-12 col-md-12"><img src="profilepicture.png" alt="profilepicture" class="img-circle" style="height: 150px;border: 5px solid white; box-shadow: 0px 0px 10px black""></div>
                </div>
            </div>

            <!-- Current Game Result -->
            <div class="col-xs-12 col-md-12" id="currentGameScoreDisplay">

                <!-- Team 1 Score -->
                <div class="col-xs-4 col-md-5" id="team1ScoreDisplay">0</div>

                <!-- Current Game -->
                <div class="col-xs-4 col-md-2">
                    <div class="col-xs-12 col-md-12" id="currentGameNumberDisplay" style="margin-bottom: 0">GAME 1</div>
                    <div class="col-xs-12 col-md-12" id="currentGameTimerDisplay" style="margin-top: 0">00 : 00 : 00</div>
                </div>

                <!-- Team 2 Score -->
                <div class="col-xs-4 col-md-5" id="team2ScoreDisplay">0</div>
            </div>

            <!-- Button Panel-->
            <div class="col-xs-12 col-md-12" id="panelDisplay">

                <!-- Team 1 Add Point Button -->
                <div class="col-xs-3 col-md-4">
                    <button type="button" class="btn btn-default" id="team1AddScoreButton" disabled><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Point</button>
                </div>


                <!-- Control Panel Button -->
                <div class="col-xs-6 col-md-4" id="controlPanelDisplay">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default" id="buttonOne" disabled><i class="material-icons" id="buttonOneIcon" style="font-size:100%">play_arrow</i><div id="buttonOneText" style="display: inline-block;">&nbsp;Play</div></button>
                        <button type="button" class="btn btn-default" id="stopButton" disabled><i class="material-icons" style="font-size:100%">stop</i><div style="display: inline-block;">&nbsp;Stop</div></button>
                        <button type="button" class="btn btn-default" id="undoButton" disabled><i class="material-icons" style="font-size:100%">undo</i><div style="display: inline-block;">&nbsp;Undo</div></button>
                    </div>
                </div>

                <!-- Team 2 Add Point Button -->
                <div class="col-xs-3 col-md-4">
                    <button type="button" class="btn btn-default" id="team2AddScoreButton" disabled><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Point</button>
                </div>
            </div>

            <!-- Match Result -->
            <div class="col-xs-4 col-xs-offset-4 col-md-2 col-md-offset-5">

                <!-- Match Result Header -->
                <div class="col-xs-12 col-md-12" id="matchResultDisplay" style="margin-bottom: 0">MATCH RESULT</div>

                <!-- Match Score -->
                <div class="col-xs-12 col-md-12" id="matchScoreDisplay" style="margin-top: 0">
                    <div class="col-xs-12 col-md-12" id="game1ScoreDisplay">0&nbsp; - &nbsp;0</div>
                    <div class="col-xs-12 col-md-12" id="game2ScoreDisplay">0&nbsp; - &nbsp;0</div>
                    <div class="col-xs-12 col-md-12" id="game3ScoreDisplay">0&nbsp; - &nbsp;0</div>
                </div>
            </div>

            <div class="col-xs-12 col-md-12" id="notificationTest"></div>
        </div>
    </div>
</body>

<script>
    // Load Match Setup onload
    $(window).load(function(){
        $('#popUpWindow').modal('show');
    });

    // Prevent modal from closing
    $('#popUpWindow').modal({
        backdrop: 'static',
        keyboard: false
    });

    var match = {
        "tournamentInfo": {
            "tournamentID": "",
            "tournamentName": "",
            "startDate": "",
            "endDate": "",
            "matchDuration": ""
        },

        "team1Info": {
            "teamInfo": {
                "teamID": "",
                "teamName": ""
            },
            "player1Info": {
                "playerID": "",
                "playerName": ""
            },
            "player3Info": {
                "playerID": "",
                "playerName": ""
            }
        },

        "team2Info": {
            "teamInfo": {
                "teamID": "",
                "teamName": ""
            },
            "player2Info": {
                "playerID": "",
                "playerName": ""
            },
            "player4Info": {
                "playerID": "",
                "playerName": ""
            }
        },

        "gameInfo": {
            "gameOneInfo": {
                "scoreInfo": {
                    "team1Score" : ["0"],
                    "team2Score" : ["0"]
                },
                "winningTeam": "",
                "gameDuration": ""
            },
            "gameTwoInfo": {
                "scoreInfo": {
                    "team1Score" : ["0"],
                    "team2Score" : ["0"]
                },
                "winningTeam": "",
                "gameDuration": ""
            },
            "gameThreeInfo": {
                "scoreInfo": {
                    "team1Score" : ["0"],
                    "team2Score" : ["0"]
                },
                "winningTeam": "",
                "gameDuration": ""
            }
        }
    };

    // When Submit button is clicked
    $("#submitInputButton").click(function() {
        match.tournamentInfo.tournamentName = document.getElementById("tournamentNameInput").value;
        match.team1Info.teamInfo.teamName = document.getElementById("team1NameInput").value;
        match.team1Info.player1Info.playerName = document.getElementById("player1NameInput").value;
        match.team1Info.player3Info.playerName = document.getElementById("player3NameInput").value;
        match.team2Info.teamInfo.teamName = document.getElementById("team2NameInput").value;
        match.team2Info.player2Info.playerName = document.getElementById("player2NameInput").value;
        match.team2Info.player4Info.playerName = document.getElementById("player4NameInput").value;

        // Check if all Inputs are filled
        if (match.tournamentInfo.tournamentName == "" || match.team1Info.teamInfo.teamName == "" || match.team1Info.player1Info.playerName == "" || match.team1Info.player3Info.playerName == "" || match.team2Info.teamInfo.teamName == "" || match.team2Info.player2Info.playerName == "" || match.team2Info.player4Info.playerName == "") {
            return false;
        } else {
            // Call function to display tournament and players name
            displayInput(match.tournamentInfo.tournamentName, match.team1Info.teamInfo.teamName, match.team1Info.player1Info.playerName, match.team1Info.player3Info.playerName, match.team2Info.teamInfo.teamName, match.team2Info.player2Info.playerName, match.team2Info.player4Info.playerName);

            // Enable and disable appropriate buttons
            document.getElementById("buttonOne").disabled = false;
            return true;
        }
    });

    // Display tournament and players name
    function displayInput(tournamentName, team1Name, player1Name, player3Name, team2Name, player2Name, player4Name) {
        document.getElementById("tournamentNameDisplay").innerHTML = tournamentName;
        document.getElementById("team1NameDisplay").innerHTML = team1Name;
        document.getElementById("team2NameDisplay").innerHTML = team2Name;
        document.getElementById("player1NameDisplay").innerHTML = player1Name;
        document.getElementById("player3NameDisplay").innerHTML = player3Name;
        document.getElementById("player2NameDisplay").innerHTML = player2Name;
        document.getElementById("player4NameDisplay").innerHTML = player4Name;
    }

    // buttonOne is clicked (Play, Pause, Rematch)
    var buttonOneFlag = 0;
    var intervalCounter;
    var second = 0;
    var minute = 0;
    var hour = 0;

    $("#buttonOne").click(function() {

        // Play button is clicked to start match
        if (buttonOneFlag == 0) {

            // Increase flag
            buttonOneFlag++;

            // Enable and disable appropriate buttons
            document.getElementById("stopButton").disabled = false;
            document.getElementById("team1AddScoreButton").disabled = false;
            document.getElementById("team2AddScoreButton").disabled = false;

            // Change Play button to Pause button
            document.getElementById("buttonOneText").innerHTML = "&nbsp;Pause";
            document.getElementById("buttonOneIcon").innerHTML = "pause";

            // Restart game score display
            document.getElementById("team1ScoreDisplay").innerHTML = "0";
            document.getElementById("team2ScoreDisplay").innerHTML = "0";
            document.getElementById("game1ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";
            document.getElementById("game2ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";
            document.getElementById("game3ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";

            // Get start time
            match.tournamentInfo.startDate = new Date();

            // Start timer
            intervalCounter = setInterval(matchTimer, 1000);

        // Pause button is clicked
        }else if ((buttonOneFlag % 2) != 0){

            // Increase flag
            buttonOneFlag++;

            // Enable and disable appropriate buttons
            document.getElementById("team1AddScoreButton").disabled = true;
            document.getElementById("team2AddScoreButton").disabled = true;

            // Change Pause button to Play button
            document.getElementById("buttonOneText").innerHTML = "&nbsp;Play";
            document.getElementById("buttonOneIcon").innerHTML = "play_arrow";

            // Pause timer
            clearInterval(intervalCounter);

        // Play button is clicked to unpause
        }else {

            // Increase flag
            buttonOneFlag++;

            // Enable and disable appropriate buttons
            document.getElementById("team1AddScoreButton").disabled = false;
            document.getElementById("team2AddScoreButton").disabled = false;

            // Change Play button to Pause button
            document.getElementById("buttonOneText").innerHTML = "&nbsp;Pause";
            document.getElementById("buttonOneIcon").innerHTML = "pause";

            // Start timer
            intervalCounter = setInterval(matchTimer, 1000);
        }

        // When Stop button is clicked
        $("#stopButton").click(function() {

            // Enable and disable appropriate buttons
            document.getElementById("buttonOne").disabled = false;
            document.getElementById("stopButton").disabled = true;
            document.getElementById("undoButton").disabled = true;
            document.getElementById("team1AddScoreButton").disabled = true;
            document.getElementById("team2AddScoreButton").disabled = true;


            // Change Pause button to Rematch button
            document.getElementById("buttonOneText").innerHTML = "&nbsp;Rematch";
            document.getElementById("buttonOneIcon").innerHTML = "replay";

            // Restart everything
            resetAll();

            // Stop timer
            clearInterval(intervalCounter);

            // Get end time
            match.tournamentInfo.endDate = new Date();
        });
    });

    // Timer
    function matchTimer() {

        // Add Second every 1000 millisecond
        second++;

        // Add Minute every 60 seconds
        if (second == 60) {
            minute++;
            second = 0;
        }

        // Add Hour every 60 minutes
        if (minute == 60) {
            hour++;
            minute = 0;
        }

        // Call function to display timer
        displayTimer(second,minute,hour);
        return second,minute,hour;
    }

    // Display timer
    function displayTimer(sec,min,hr) {

        // Get 2nd digit
        var secTenth = Math.floor(sec/10);
        var minTenth = Math.floor(min/10);
        var hrTenth = Math.floor(hr/10);

        // Get 1st digit
        while (sec > 9) {
            sec = sec-10;
        }
        while (min > 9) {
            min = min-10;
        }
        while (hr > 9) {
            hr = hr-10;
        }

        // Display in HTML
        document.getElementById("currentGameTimerDisplay").innerHTML = hrTenth.toString() + hr.toString() + ":" + minTenth.toString() + min.toString() + ":" + secTenth.toString()+ sec.toString();
    }

    // 21-points system
    var maxScore = 30;
    var winScore = 21;
    var deuceScore = 20;
    var maxGame = 3;

    // Initial condition
    var game = 1;
    var scoreTeam1 = 0;
    var scoreTeam2 = 0;
    var winScoreArray_gameOne = ["21"];
    var winScoreArray_gameTwo = ["21"];
    var winScoreArray_gameThree = ["21"];
    var deuceScoreArray_gameOne = ["20"];
    var deuceScoreArray_gameTwo = ["20"];
    var deuceScoreArray_gameThree = ["20"];

    function resetAll(){
        buttonOneFlag = 0;
        second = 0;
        minute = 0;
        hour = 0;
        maxScore = 30;
        winScore = 21;
        deuceScore = 20;
        scoreTeam1 = 0;
        scoreTeam2 = 0;
        winScoreArray_gameOne = ["21"];
        winScoreArray_gameTwo = ["21"];
        winScoreArray_gameThree = ["21"];
        deuceScoreArray_gameOne = ["20"];
        deuceScoreArray_gameTwo = ["20"];
        deuceScoreArray_gameThree = ["20"];

        match.tournamentInfo.startDate = "";
        match.tournamentInfo.endDate = "";
        match.tournamentInfo.matchDuration = "";

        match.gameInfo.gameOneInfo.scoreInfo.team1Score = ["0"];
        match.gameInfo.gameOneInfo.scoreInfo.team2Score = ["0"];
        match.gameInfo.gameTwoInfo.scoreInfo.team1Score = ["0"];
        match.gameInfo.gameTwoInfo.scoreInfo.team2Score = ["0"];
        match.gameInfo.gameThreeInfo.scoreInfo.team1Score = ["0"];
        match.gameInfo.gameThreeInfo.scoreInfo.team2Score = ["0"];

        match.gameInfo.gameOneInfo.winningTeam = "";
        match.gameInfo.gameTwoInfo.winningTeam = "";
        match.gameInfo.gameThreeInfo.winningTeam = "";

        match.gameInfo.gameOneInfo.gameDuration = "";
        match.gameInfo.gameTwoInfo.gameDuration = "";
        match.gameInfo.gameThreeInfo.gameDuration = "";
    }

    $("#team1AddScoreButton").click(function () {
        scoreTeam1++;

        // Enable and disable appropriate buttons
        if (match.gameInfo.gameOneInfo.scoreInfo.team1Score == "0" && scoreTeam1 == 1) {
            document.getElementById("undoButton").disabled = false;
        }

        // Deuce happen
        if (scoreTeam1 == deuceScore && scoreTeam2 == deuceScore && winScore < maxScore) {
            winScore++;
            deuceScore++;
        }

        // Add score
        if (scoreTeam1 <= winScore){
            addScore("team1ScoreDisplay",scoreTeam1);
        }

        // Game won
        if (scoreTeam1 == winScore) {
            displayMatchScore(scoreTeam1, scoreTeam2, 1, game);
            addGame(match.team1Info);
        }
    });

    $("#team2AddScoreButton").click(function () {
        scoreTeam2++;

        // Enable and disable appropriate buttons
        if (match.gameInfo.gameOneInfo.scoreInfo.team2Score == "0" && scoreTeam2 == 1) {
            document.getElementById("undoButton").disabled = false;
        }

        // Deuce happen
        if (scoreTeam1 == deuceScore && scoreTeam2 == deuceScore && winScore < maxScore) {
            winScore++;
            deuceScore++;
        }

        // Add score
        if (scoreTeam2 <= winScore){
            addScore("team2ScoreDisplay",scoreTeam2);
        }

        // Game won
        if (scoreTeam2 == winScore) {
            displayMatchScore(scoreTeam2, scoreTeam1, 2, game);
            addGame(match.team2Info);
        }
    });

    function addScore(scoreDisplay,scoreTeam) {
        switch (game) {
            case 1:
                match.gameInfo.gameOneInfo.scoreInfo.team1Score.push(scoreTeam1.toString());
                match.gameInfo.gameOneInfo.scoreInfo.team2Score.push(scoreTeam2.toString());
                winScoreArray_gameOne.push(winScore.toString());
                deuceScoreArray_gameOne.push(deuceScore.toString());
                break;
            case 2:
                match.gameInfo.gameTwoInfo.scoreInfo.team1Score.push(scoreTeam1.toString());
                match.gameInfo.gameTwoInfo.scoreInfo.team2Score.push(scoreTeam2.toString());
                winScoreArray_gameTwo.push(winScore.toString());
                deuceScoreArray_gameTwo.push(deuceScore.toString());
                break;
            case 3:
                match.gameInfo.gameThreeInfo.scoreInfo.team1Score.push(scoreTeam1.toString());
                match.gameInfo.gameThreeInfo.scoreInfo.team2Score.push(scoreTeam2.toString());
                winScoreArray_gameThree.push(winScore.toString());
                deuceScoreArray_gameThree.push(deuceScore.toString());
                break;
            default:
                alert("Something is wrong with teamAddScoreButton's AddScore function");
        }
        document.getElementById(scoreDisplay).innerHTML = scoreTeam.toString();
    }

    // Display Match Score
    function displayMatchScore(winningTeamScore, losingTeamScore, winningTeam, winningGameNumber) {

        // Check which game score to update
        switch (winningGameNumber) {
            case 1:
                var gameNumberScoreDisplay = "game1ScoreDisplay";
                document.getElementById("currentGameNumberDisplay").innerHTML = "Game 2";
                break;
            case 2:
                var gameNumberScoreDisplay = "game2ScoreDisplay";
                document.getElementById("currentGameNumberDisplay").innerHTML = "Game 3";
                break;
            case 3:
                var gameNumberScoreDisplay = "game3ScoreDisplay";
                break;
        }

        // Check if losing team score is double digit
        switch (winningTeam) {
                // Team 1 win
            case 1:
                if (losingTeamScore < 10) {
                    document.getElementById(gameNumberScoreDisplay).innerHTML = winningTeamScore + " - " + "&nbsp;" + losingTeamScore + "&nbsp;";
                } else {
                    document.getElementById(gameNumberScoreDisplay).innerHTML = winningTeamScore + " - " + losingTeamScore;
                }
                break;

                // Team 2 win
            case 2:
                if (losingTeamScore < 10) {
                    document.getElementById(gameNumberScoreDisplay).innerHTML = "&nbsp;" + losingTeamScore + "&nbsp;" + " - " + winningTeamScore;
                } else {
                    document.getElementById(gameNumberScoreDisplay).innerHTML = losingTeamScore + " - " + winningTeamScore;
                }
                break;

            default:
                alert("Something is wrong with displayMatchScore function");
        }
        return true;
    }

    function addGame(winningTeam){
        scoreTeam1 = 0;
        scoreTeam2 = 0;
        winScore = 21;
        deuceScore = 20;

        switch(game){
            case 1:
                match.gameInfo.gameOneInfo.winningTeam = winningTeam;
                document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                break;
            case 2:
                match.gameInfo.gameTwoInfo.winningTeam = winningTeam;
                if (match.gameInfo.gameOneInfo.winningTeam != match.gameInfo.gameTwoInfo.winningTeam){
                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                }else{

                    // Enable and disable appropriate buttons
                    document.getElementById("team1AddScoreButton").disabled = true;
                    document.getElementById("team2AddScoreButton").disabled = true;
                    document.getElementById("buttonOne").disabled = true;
                    document.getElementById("stopButton").disabled = true;

                    // Change Pause button to Play button
                    document.getElementById("buttonOneText").innerHTML = "&nbsp;Play";
                    document.getElementById("buttonOneIcon").innerHTML = "play_arrow";

                    // Get end time
                    match.tournamentInfo.endDate = new Date();
                    clearInterval(intervalCounter);
                }
                break;
            case 3:
                match.gameInfo.gameThreeInfo.winningTeam = winningTeam;

                // Enable and disable appropriate buttons
                document.getElementById("team1AddScoreButton").disabled = true;
                document.getElementById("team2AddScoreButton").disabled = true;
                document.getElementById("buttonOne").disabled = true;
                document.getElementById("stopButton").disabled = true;

                // Change Pause button to Play button
                document.getElementById("buttonOneText").innerHTML = "&nbsp;Play";
                document.getElementById("buttonOneIcon").innerHTML = "play_arrow";

                // Get end time
                match.tournamentInfo.endDate = new Date();
                clearInterval(intervalCounter);
                break;
            default:
                alert("Something is wrong with teamAddScoreButton's addGame function");
        }
        game++;
    }

    $("#undoButton").click(function() {
        switch (game){
            case 1:
                if (match.gameInfo.gameOneInfo.scoreInfo.team1Score.length == 2 && match.gameInfo.gameOneInfo.scoreInfo.team2Score.length == 2){
                    match.gameInfo.gameOneInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameOneInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameOne.pop();
                    deuceScoreArray_gameOne.pop();
                    scoreTeam1 = match.gameInfo.gameOneInfo.scoreInfo.team1Score[match.gameInfo.gameOneInfo.scoreInfo.team1Score.length - 1];
                    scoreTeam2 = match.gameInfo.gameOneInfo.scoreInfo.team2Score[match.gameInfo.gameOneInfo.scoreInfo.team1Score.length - 1];
                    winScore = winScoreArray_gameOne[winScoreArray_gameOne.length - 1];
                    deuceScore = deuceScoreArray_gameOne[deuceScoreArray_gameOne.length - 1];
                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                    document.getElementById("undoButton").disabled = true;
                    break;
                }else{
                    match.gameInfo.gameOneInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameOneInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameOne.pop();
                    deuceScoreArray_gameOne.pop();
                    scoreTeam1 = match.gameInfo.gameOneInfo.scoreInfo.team1Score[match.gameInfo.gameOneInfo.scoreInfo.team1Score.length - 1];
                    scoreTeam2 = match.gameInfo.gameOneInfo.scoreInfo.team2Score[match.gameInfo.gameOneInfo.scoreInfo.team2Score.length - 1];
                    winScore = winScoreArray_gameOne[winScoreArray_gameOne.length - 1];
                    deuceScore = deuceScoreArray_gameOne[deuceScoreArray_gameOne.length - 1];
                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                    break;
                }
            case 2:
                if (match.gameInfo.gameTwoInfo.scoreInfo.team1Score.length == 1 && match.gameInfo.gameTwoInfo.scoreInfo.team2Score.length == 1){
                    game--;
                    match.gameInfo.gameOneInfo.winningTeam = "";
                    match.gameInfo.gameOneInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameOneInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameOne.pop();
                    deuceScoreArray_gameOne.pop();
                    scoreTeam1 = match.gameInfo.gameOneInfo.scoreInfo.team1Score[match.gameInfo.gameOneInfo.scoreInfo.team1Score.length - 1];
                    scoreTeam2 = match.gameInfo.gameOneInfo.scoreInfo.team2Score[match.gameInfo.gameOneInfo.scoreInfo.team2Score.length - 1];
                    winScore = winScoreArray_gameOne[winScoreArray_gameOne.length - 1];
                    deuceScore = deuceScoreArray_gameOne[deuceScoreArray_gameOne.length - 1];

                    match.gameInfo.gameTwoInfo.scoreInfo.team1Score = ["0"];
                    match.gameInfo.gameTwoInfo.scoreInfo.team2Score = ["0"];
                    winScoreArray_gameTwo = ["21"];
                    deuceScoreArray_gameTwo = ["20"];

                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();

                    document.getElementById("game1ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";
                    break;
                }else {
                    match.gameInfo.gameTwoInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameTwoInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameTwo.pop();
                    deuceScoreArray_gameTwo.pop();
                    scoreTeam1 =  match.gameInfo.gameTwoInfo.scoreInfo.team1Score[ match.gameInfo.gameTwoInfo.scoreInfo.team1Score.length-1];
                    scoreTeam2 =  match.gameInfo.gameTwoInfo.scoreInfo.team2Score[ match.gameInfo.gameTwoInfo.scoreInfo.team2Score.length-1];
                    winScore = winScoreArray_gameTwo[winScoreArray_gameTwo.length - 1];
                    deuceScore = deuceScoreArray_gameTwo[deuceScoreArray_gameTwo.length - 1];

                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                    break;
                }
            case 3:
                if (match.gameInfo.gameThreeInfo.scoreInfo.team1Score.length == 1 && match.gameInfo.gameThreeInfo.scoreInfo.team2Score.length == 1){
                    game--;
                    match.gameInfo.gameTwoInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameTwoInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameTwo.pop();
                    deuceScoreArray_gameTwo.pop();
                    scoreTeam1 = match.gameInfo.gameTwoInfo.scoreInfo.team1Score[match.gameInfo.gameTwoInfo.scoreInfo.team1Score.length - 1];
                    scoreTeam2 = match.gameInfo.gameTwoInfo.scoreInfo.team2Score[match.gameInfo.gameTwoInfo.scoreInfo.team2Score.length - 1];
                    winScore = winScoreArray_gameTwo[winScoreArray_gameTwo.length - 1];
                    deuceScore = deuceScoreArray_gameTwo[deuceScoreArray_gameTwo.length - 1];

                    match.gameInfo.gameThreeInfo.scoreInfo.team1Score = ["0"];
                    match.gameInfo.gameThreeInfo.scoreInfo.team2Score = ["0"];
                    winScoreArray_gameThree = ["21"];
                    deuceScoreArray_gameThree = ["20"];

                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();

                    document.getElementById("game2ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";

                    if (match.gameInfo.gameTwoInfo.winningTeam == match.gameInfo.gameOneInfo.winningTeam){
                        // Start timer
                        intervalCounter = setInterval(matchTimer, 1000);

                        document.getElementById("team1AddScoreButton").disabled = false;
                        document.getElementById("team2AddScoreButton").disabled = false;
                        document.getElementById("buttonOne").disabled = false;
                        document.getElementById("stopButton").disabled = false;

                        // Change Play button to Pause button
                        document.getElementById("buttonOneText").innerHTML = "&nbsp;Pause";
                        document.getElementById("buttonOneIcon").innerHTML = "pause";

                        // Clear match endDate
                        match.tournamentInfo.endDate = "";
                    }
                    match.gameInfo.gameTwoInfo.winningTeam = "";
                    break;
                }else {
                    match.gameInfo.gameThreeInfo.scoreInfo.team1Score.pop();
                    match.gameInfo.gameThreeInfo.scoreInfo.team2Score.pop();
                    winScoreArray_gameThree.pop();
                    deuceScoreArray_gameThree.pop();
                    scoreTeam1 = match.gameInfo.gameThreeInfo.scoreInfo.team1Score[match.gameInfo.gameThreeInfo.scoreInfo.team1Score.length-1];
                    scoreTeam2 = match.gameInfo.gameThreeInfo.scoreInfo.team2Score[match.gameInfo.gameThreeInfo.scoreInfo.team2Score.length-1];
                    winScore = winScoreArray_gameThree[winScoreArray_gameThree.length - 1];
                    deuceScore = deuceScoreArray_gameThree[deuceScoreArray_gameThree.length - 1];

                    document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                    document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();
                    break;
                }
            case 4:
                game--;
                match.gameInfo.gameThreeInfo.scoreInfo.team1Score.pop();
                match.gameInfo.gameThreeInfo.scoreInfo.team2Score.pop();
                winScoreArray_gameThree.pop();
                deuceScoreArray_gameThree.pop();
                scoreTeam1 = match.gameInfo.gameThreeInfo.scoreInfo.team1Score[match.gameInfo.gameThreeInfo.scoreInfo.team1Score.length - 1];
                scoreTeam2 = match.gameInfo.gameThreeInfo.scoreInfo.team2Score[match.gameInfo.gameThreeInfo.scoreInfo.team2Score.length - 1];
                winScore = winScoreArray_gameThree[winScoreArray_gameThree.length - 1];
                deuceScore = deuceScoreArray_gameThree[deuceScoreArray_gameThree.length - 1];

                document.getElementById("team1ScoreDisplay").innerHTML = scoreTeam1.toString();
                document.getElementById("team2ScoreDisplay").innerHTML = scoreTeam2.toString();

                document.getElementById("game3ScoreDisplay").innerHTML = "0&nbsp;&nbsp;-&nbsp;&nbsp;0";

                if (match.gameInfo.gameThreeInfo.winningTeam == match.gameInfo.gameTwoInfo.winningTeam){
                    // Start timer
                    intervalCounter = setInterval(matchTimer, 1000);

                    document.getElementById("team1AddScoreButton").disabled = false;
                    document.getElementById("team2AddScoreButton").disabled = false;
                    document.getElementById("buttonOne").disabled = false;
                    document.getElementById("stopButton").disabled = false;

                    // Change Play button to Pause button
                    document.getElementById("buttonOneText").innerHTML = "&nbsp;Pause";
                    document.getElementById("buttonOneIcon").innerHTML = "pause";

                    // Clear match endDate
                    match.tournamentInfo.endDate = "";

                }
                match.gameInfo.gameThreeInfo.winningTeam = "";
                break;
            default:
                alert("Something is wrong with undoButton");
        }
    });
</script>
</html>